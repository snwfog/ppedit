!function(d){var s=function(l,r){this.element=d(l);this.picker=d('<div class="slider"><div class="slider-track"><div class="slider-selection"></div><div class="slider-handle"></div><div class="slider-handle"></div></div><div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div></div>').insertBefore(this.element).append(this.element);if(this.id=this.element.data("slider-id")||r.id)this.picker[0].id=this.id;"undefined"!==typeof Modernizr&&Modernizr.touch&&(this.touchCapable=
    !0);var v=this.element.data("slider-tooltip")||r.tooltip;this.tooltip=this.picker.find(".tooltip");this.tooltipInner=this.tooltip.find("div.tooltip-inner");this.orientation=this.element.data("slider-orientation")||r.orientation;switch(this.orientation){case "vertical":this.picker.addClass("slider-vertical");this.stylePos="top";this.mousePos="pageY";this.sizePos="offsetHeight";this.tooltip.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",this.element.outerWidth()),
    this.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px"}this.min=this.element.data("slider-min")||r.min;this.max=this.element.data("slider-max")||r.max;this.step=this.element.data("slider-step")||r.step;this.value=this.element.data("slider-value")||r.value;this.value[1]&&(this.range=!0);this.selection=this.element.data("slider-selection")||r.selection;this.selectionEl=this.picker.find(".slider-selection");
    "none"===this.selection&&this.selectionEl.addClass("hide");this.selectionElStyle=this.selectionEl[0].style;this.handle1=this.picker.find(".slider-handle:first");this.handle1Stype=this.handle1[0].style;this.handle2=this.picker.find(".slider-handle:last");this.handle2Stype=this.handle2[0].style;switch(this.element.data("slider-handle")||r.handle){case "round":this.handle1.addClass("round");this.handle2.addClass("round");break;case "triangle":this.handle1.addClass("triangle"),this.handle2.addClass("triangle")}this.range?
        (this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min);this.diff=this.max-this.min;this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff];this.offset=this.picker.offset();this.size=this.picker[0][this.sizePos];
    this.formater=r.formater;this.layout();if(this.touchCapable)this.picker.on({touchstart:d.proxy(this.mousedown,this)});else this.picker.on({mousedown:d.proxy(this.mousedown,this)});if("show"===v)this.picker.on({mouseenter:d.proxy(this.showTooltip,this),mouseleave:d.proxy(this.hideTooltip,this)});else this.tooltip.addClass("hide")};s.prototype={constructor:s,over:!1,inDrag:!1,showTooltip:function(){this.tooltip.addClass("in");this.over=!0},hideTooltip:function(){!1===this.inDrag&&this.tooltip.removeClass("in");
    this.over=!1},layout:function(){this.handle1Stype[this.stylePos]=this.percentage[0]+"%";this.handle2Stype[this.stylePos]=this.percentage[1]+"%";"vertical"==this.orientation?(this.selectionElStyle.top=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.height=Math.abs(this.percentage[0]-this.percentage[1])+"%"):(this.selectionElStyle.left=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.width=Math.abs(this.percentage[0]-this.percentage[1])+"%");this.range?
    (this.tooltipInner.text(this.formater(this.value[0])+" : "+this.formater(this.value[1])),this.tooltip[0].style[this.stylePos]=this.size*(this.percentage[0]+(this.percentage[1]-this.percentage[0])/2)/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"):(this.tooltipInner.text(this.formater(this.value[0])),this.tooltip[0].style[this.stylePos]=this.size*this.percentage[0]/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/
    2)+"px")},mousedown:function(l){this.touchCapable&&"touchstart"===l.type&&(l=l.originalEvent);this.offset=this.picker.offset();this.size=this.picker[0][this.sizePos];l=this.getPercentage(l);if(this.range){var r=Math.abs(this.percentage[0]-l),v=Math.abs(this.percentage[1]-l);this.dragged=r<v?0:1}else this.dragged=0;this.percentage[this.dragged]=l;this.layout();if(this.touchCapable)d(document).on({touchmove:d.proxy(this.mousemove,this),touchend:d.proxy(this.mouseup,this)});else d(document).on({mousemove:d.proxy(this.mousemove,
    this),mouseup:d.proxy(this.mouseup,this)});this.inDrag=!0;l=this.calculateValue();this.element.trigger({type:"slideStart",value:l}).trigger({type:"slide",value:l});return!1},mousemove:function(d){this.touchCapable&&"touchmove"===d.type&&(d=d.originalEvent);d=this.getPercentage(d);this.range&&(0===this.dragged&&this.percentage[1]<d?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>d&&(this.percentage[1]=this.percentage[0],this.dragged=0));this.percentage[this.dragged]=
    d;this.layout();d=this.calculateValue();this.element.trigger({type:"slide",value:d}).data("value",d).prop("value",d);return!1},mouseup:function(l){this.touchCapable?d(document).off({touchmove:this.mousemove,touchend:this.mouseup}):d(document).off({mousemove:this.mousemove,mouseup:this.mouseup});this.inDrag=!1;!1==this.over&&this.hideTooltip();this.element;l=this.calculateValue();this.element.trigger({type:"slideStop",value:l}).data("value",l).prop("value",l);return!1},calculateValue:function(){var d;
    this.range?this.value=d=[this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step]:(d=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.value=[d,this.value[1]]);return d},getPercentage:function(d){this.touchCapable&&(d=d.touches[0]);d=100*(d[this.mousePos]-this.offset[this.stylePos])/this.size;d=Math.round(d/this.percentage[2])*this.percentage[2];return Math.max(0,Math.min(100,d))},
    getValue:function(){return this.range?this.value:this.value[0]},setValue:function(d){this.value=d;this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min);this.diff=this.max-this.min;this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/
        this.diff,100*this.step/this.diff];this.layout()}};d.fn.slider=function(l,r){return this.each(function(){var v=d(this),w=v.data("slider"),u="object"===typeof l&&l;w||v.data("slider",w=new s(this,d.extend({},d.fn.slider.defaults,u)));if("string"==typeof l)w[l](r)})};d.fn.slider.defaults={min:0,max:10,step:1,orientation:"horizontal",value:5,selection:"before",tooltip:"show",handle:"round",formater:function(d){return d}};d.fn.slider.Constructor=s}(window.jQuery);
(function(d){var s=function(){var h={showEvent:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},colorScheme:"light",color:"3289c7",livePreview:!0,flat:!1,layout:"full",submit:1,submitText:"OK",height:156},e=function(b,a){var c=w(b);d(a).data("colpick").fields.eq(1).val(c.r).end().eq(2).val(c.g).end().eq(3).val(c.b).end()},n=function(b,a){d(a).data("colpick").fields.eq(4).val(Math.round(b.h)).end().eq(5).val(Math.round(b.s)).end().eq(6).val(Math.round(b.b)).end()},
    g=function(b,a){d(a).data("colpick").fields.eq(0).val(k(b))},A=function(b,a){d(a).data("colpick").selector.css("backgroundColor","#"+k({h:b.h,s:100,b:100}));d(a).data("colpick").selectorIndic.css({left:parseInt(d(a).data("colpick").height*b.s/100,10),top:parseInt(d(a).data("colpick").height*(100-b.b)/100,10)})},l=function(b,a){d(a).data("colpick").hue.css("top",parseInt(d(a).data("colpick").height-d(a).data("colpick").height*b.h/360,10))},u=function(b,a){d(a).data("colpick").currentColor.css("backgroundColor",
        "#"+k(b))},s=function(b,a){d(a).data("colpick").newColor.css("backgroundColor","#"+k(b))},B=function(b){b=d(this).parent().parent();var a;if(0<this.parentNode.className.indexOf("_hex")){a=b.data("colpick");var c=this.value,p=6-c.length;if(0<p){for(var y=[],z=0;z<p;z++)y.push("0");y.push(c);c=y.join("")}a.color=a=r(c);e(a,b.get(0));n(a,b.get(0))}else 0<this.parentNode.className.indexOf("_hsb")?(b.data("colpick").color=a=F({h:parseInt(b.data("colpick").fields.eq(4).val(),10),s:parseInt(b.data("colpick").fields.eq(5).val(),
        10),b:parseInt(b.data("colpick").fields.eq(6).val(),10)}),e(a,b.get(0)),g(a,b.get(0))):(a=b.data("colpick"),c=parseInt(b.data("colpick").fields.eq(1).val(),10),p=parseInt(b.data("colpick").fields.eq(2).val(),10),y=parseInt(b.data("colpick").fields.eq(3).val(),10),c={r:Math.min(255,Math.max(0,c)),g:Math.min(255,Math.max(0,p)),b:Math.min(255,Math.max(0,y))},a.color=a=v(c),g(a,b.get(0)),n(a,b.get(0)));A(a,b.get(0));l(a,b.get(0));s(a,b.get(0));b.data("colpick").onChange.apply(b.parent(),[a,k(a),w(a)])},
    H=function(b){d(this).parent().removeClass("colpick_focus")},S=function(){d(this).parent().parent().data("colpick").fields.parent().removeClass("colpick_focus");d(this).parent().addClass("colpick_focus")},N=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1;var a=d(this).parent().find("input").focus();b={el:d(this).parent().addClass("colpick_slider"),max:0<this.parentNode.className.indexOf("_hsb_h")?360:0<this.parentNode.className.indexOf("_hsb")?100:255,y:b.pageY,field:a,val:parseInt(a.val(),
        10),preview:d(this).parent().parent().data("colpick").livePreview};d(document).mouseup(b,E);d(document).mousemove(b,M)},M=function(b){b.data.field.val(Math.max(0,Math.min(b.data.max,parseInt(b.data.val-b.pageY+b.data.y,10))));b.data.preview&&B.apply(b.data.field.get(0),[!0]);return!1},E=function(b){B.apply(b.data.field.get(0),[!0]);b.data.el.removeClass("colpick_slider").find("input").focus();d(document).off("mouseup",E);d(document).off("mousemove",M);return!1},C=function(b){b.preventDefault?b.preventDefault():
        b.returnValue=!1;var a={cal:d(this).parent(),y:d(this).offset().top};a.preview=a.cal.data("colpick").livePreview;d(document).mouseup(a,Q);d(document).mousemove(a,m);B.apply(a.cal.data("colpick").fields.eq(4).val(parseInt(360*(a.cal.data("colpick").height-(b.pageY-a.y))/a.cal.data("colpick").height,10)).get(0),[a.preview])},m=function(b){B.apply(b.data.cal.data("colpick").fields.eq(4).val(parseInt(360*(b.data.cal.data("colpick").height-Math.max(0,Math.min(b.data.cal.data("colpick").height,b.pageY-
        b.data.y)))/b.data.cal.data("colpick").height,10)).get(0),[b.data.preview]);return!1},Q=function(b){e(b.data.cal.data("colpick").color,b.data.cal.get(0));g(b.data.cal.data("colpick").color,b.data.cal.get(0));d(document).off("mouseup",Q);d(document).off("mousemove",m);return!1},T=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1;var a={cal:d(this).parent(),pos:d(this).offset()};a.preview=a.cal.data("colpick").livePreview;d(document).mouseup(a,I);d(document).mousemove(a,x);B.apply(a.cal.data("colpick").fields.eq(6).val(parseInt(100*
        (a.cal.data("colpick").height-(b.pageY-a.pos.top))/a.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*(b.pageX-a.pos.left)/a.cal.data("colpick").height,10)).get(0),[a.preview])},x=function(b){B.apply(b.data.cal.data("colpick").fields.eq(6).val(parseInt(100*(b.data.cal.data("colpick").height-Math.max(0,Math.min(b.data.cal.data("colpick").height,b.pageY-b.data.pos.top)))/b.data.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(b.data.cal.data("colpick").height,
        b.pageX-b.data.pos.left))/b.data.cal.data("colpick").height,10)).get(0),[b.data.preview]);return!1},I=function(b){e(b.data.cal.data("colpick").color,b.data.cal.get(0));g(b.data.cal.data("colpick").color,b.data.cal.get(0));d(document).off("mouseup",I);d(document).off("mousemove",x);return!1},J=function(b){b=d(this).parent();var a=b.data("colpick").color;b.data("colpick").origColor=a;u(a,b.get(0));b.data("colpick").onSubmit(a,k(a),w(a),b.data("colpick").el)},K=function(b){b=d("#"+d(this).data("colpickId"));
        b.data("colpick").onBeforeShow.apply(this,[b.get(0)]);var a=d(this).offset(),c=a.top+this.offsetHeight,a=a.left,p=L();a+346>p.l+p.w&&(a-=346);b.css({left:a+"px",top:c+"px"});!1!=b.data("colpick").onShow.apply(this,[b.get(0)])&&b.show();d("html").mousedown({cal:b},t);b.mousedown(function(c){c.stopPropagation()})},t=function(b){!1!=b.data.cal.data("colpick").onHide.apply(this,[b.data.cal.get(0)])&&b.data.cal.hide();d("html").off("mousedown",t)},L=function(){var b="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||
        (b?document.documentElement.scrollLeft:document.body.scrollLeft),w:window.innerWidth||(b?document.documentElement.clientWidth:document.body.clientWidth)}},F=function(b){return{h:Math.min(360,Math.max(0,b.h)),s:Math.min(100,Math.max(0,b.s)),b:Math.min(100,Math.max(0,b.b))}},q=function(){var b=d(this).parent(),a=b.data("colpick").origColor;b.data("colpick").color=a;e(a,b.get(0));g(a,b.get(0));n(a,b.get(0));A(a,b.get(0));l(a,b.get(0));s(a,b.get(0))};return{init:function(b){b=d.extend({},h,b||{});if("string"==
    typeof b.color)b.color=r(b.color);else if(void 0!=b.color.r&&void 0!=b.color.g&&void 0!=b.color.b)b.color=v(b.color);else if(void 0!=b.color.h&&void 0!=b.color.s&&void 0!=b.color.b)b.color=F(b.color);else return this;return this.each(function(){if(!d(this).data("colpickId")){var a=d.extend({},b);a.origColor=b.color;var c="collorpicker_"+parseInt(1E3*Math.random());d(this).data("colpickId",c);c=d('<div class="colpick"><div class="colpick_color"><div class="colpick_color_overlay1"><div class="colpick_color_overlay2"><div class="colpick_selector_outer"><div class="colpick_selector_inner"></div></div></div></div></div><div class="colpick_hue"><div class="colpick_hue_arrs"><div class="colpick_hue_larr"></div><div class="colpick_hue_rarr"></div></div></div><div class="colpick_new_color"></div><div class="colpick_current_color"></div><div class="colpick_hex_field"><div class="colpick_field_letter">#</div><input type="text" maxlength="6" size="6" /></div><div class="colpick_rgb_r colpick_field"><div class="colpick_field_letter">R</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_g colpick_field"><div class="colpick_field_letter">G</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_h colpick_field"><div class="colpick_field_letter">H</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_s colpick_field"><div class="colpick_field_letter">S</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_submit"></div></div>').attr("id",
    c);c.addClass("colpick_"+a.layout+(a.submit?"":" colpick_"+a.layout+"_ns"));"light"!=a.colorScheme&&c.addClass("colpick_"+a.colorScheme);c.find("div.colpick_submit").html(a.submitText).click(J);a.fields=c.find("input").change(B).blur(H).focus(S);c.find("div.colpick_field_arrs").mousedown(N).end().find("div.colpick_current_color").click(q);a.selector=c.find("div.colpick_color").mousedown(T);a.selectorIndic=a.selector.find("div.colpick_selector_outer");a.el=this;a.hue=c.find("div.colpick_hue_arrs");
    huebar=a.hue.parent();var p=navigator.userAgent.toLowerCase(),y="Microsoft Internet Explorer"===navigator.appName,z=y?parseFloat(p.match(/msie ([0-9]{1,}[\.0-9]{0,})/)[1]):0,p="#ff0000 #ff0080 #ff00ff #8000ff #0000ff #0080ff #00ffff #00ff80 #00ff00 #80ff00 #ffff00 #ff8000 #ff0000".split(" ");if(y&&10>z)for(y=0;11>=y;y++)z=d("<div></div>").attr("style","height:8.333333%; filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+p[y]+", endColorstr="+p[y+1]+'); -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='+
        p[y]+", endColorstr="+p[y+1]+')";'),huebar.append(z);else stopList=p.join(","),huebar.attr("style","background:-webkit-linear-gradient(top center,"+stopList+"); background:-moz-linear-gradient(top center,"+stopList+"); background:linear-gradient(to bottom,"+stopList+"); "),huebar.css({background:"linear-gradient(to bottom,"+stopList+")"}),huebar.css({background:"-moz-linear-gradient(top,"+stopList+")"});c.find("div.colpick_hue").mousedown(C);a.newColor=c.find("div.colpick_new_color");a.currentColor=
        c.find("div.colpick_current_color");c.data("colpick",a);e(a.color,c.get(0));n(a.color,c.get(0));g(a.color,c.get(0));l(a.color,c.get(0));A(a.color,c.get(0));u(a.color,c.get(0));s(a.color,c.get(0));a.flat?(c.appendTo(this).show(),c.css({position:"relative",display:"block"})):(c.appendTo(document.body),d(this).on(a.showEvent,K),c.css({position:"absolute"}))}})},showPicker:function(){return this.each(function(){d(this).data("colpickId")&&K.apply(this)})},hidePicker:function(){return this.each(function(){d(this).data("colpickId")&&
d("#"+d(this).data("colpickId")).hide()})},setColor:function(b,a){a="undefined"===typeof a?1:a;if("string"==typeof b)b=r(b);else if(void 0!=b.r&&void 0!=b.g&&void 0!=b.b)b=v(b);else if(void 0!=b.h&&void 0!=b.s&&void 0!=b.b)b=F(b);else return this;return this.each(function(){if(d(this).data("colpickId")){var c=d("#"+d(this).data("colpickId"));c.data("colpick").color=b;c.data("colpick").origColor=b;e(b,c.get(0));n(b,c.get(0));g(b,c.get(0));l(b,c.get(0));A(b,c.get(0));s(b,c.get(0));c.data("colpick").onChange.apply(c.parent(),
    [b,k(b),w(b),1]);a&&u(b,c.get(0))}})}}}(),l=function(d){d=parseInt(-1<d.indexOf("#")?d.substring(1):d,16);return{r:d>>16,g:(d&65280)>>8,b:d&255}},r=function(d){return v(l(d))},v=function(d){var e={h:0,s:0,b:0},n=Math.min(d.r,d.g,d.b),g=Math.max(d.r,d.g,d.b),n=g-n;e.b=g;e.s=0!=g?255*n/g:0;e.h=0!=e.s?d.r==g?(d.g-d.b)/n:d.g==g?2+(d.b-d.r)/n:4+(d.r-d.g)/n:-1;e.h*=60;0>e.h&&(e.h+=360);e.s*=100/255;e.b*=100/255;return e},w=function(d){var e,n,g;e=Math.round(d.h);var k=Math.round(255*d.s/100);d=Math.round(255*
    d.b/100);if(0==k)e=n=g=d;else{var k=(255-k)*d/255,l=e%60*(d-k)/60;360==e&&(e=0);60>e?(e=d,g=k,n=k+l):120>e?(n=d,g=k,e=d-l):180>e?(n=d,e=k,g=k+l):240>e?(g=d,e=k,n=d-l):300>e?(g=d,n=k,e=k+l):360>e?(e=d,n=k,g=d-l):g=n=e=0}return{r:Math.round(e),g:Math.round(n),b:Math.round(g)}},u=function(h){var e=[h.r.toString(16),h.g.toString(16),h.b.toString(16)];d.each(e,function(d,g){1==g.length&&(e[d]="0"+g)});return e.join("")},k=function(d){return u(w(d))};d.fn.extend({colpick:s.init,colpickHide:s.hidePicker,
    colpickShow:s.showPicker,colpickSetColor:s.setColor});d.extend({colpickRgbToHex:u,colpickRgbToHsb:v,colpickHsbToHex:k,colpickHsbToRgb:w,colpickHexToHsb:r,colpickHexToRgb:l})})(jQuery);
(function(){function d(d){throw d;}function s(d,e){var g=[],k=(1<<e)-1,h=d.length*e,m;for(m=0;m<h;m+=e)g[m>>>5]|=(d.charCodeAt(m/e)&k)<<32-e-m%32;return{value:g,binLen:h}}function l(e){var g=[],h=e.length,k,C;0!==h%2&&d("String of HEX type must be in byte increments");for(k=0;k<h;k+=2)C=parseInt(e.substr(k,2),16),isNaN(C)&&d("String of HEX type contains invalid characters"),g[k>>>3]|=C<<24-k%8*4;return{value:g,binLen:4*h}}function r(e){var g=[],k=0,h,C,m,n,l;-1===e.search(/^[a-zA-Z0-9=+\/]+$/)&&d("Invalid character in base-64 string");
    h=e.indexOf("=");e=e.replace(/\=/g,"");-1!==h&&h<e.length&&d("Invalid '=' found in base-64 string");for(C=0;C<e.length;C+=4){l=e.substr(C,4);for(m=n=0;m<l.length;m+=1)h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(l[m]),n|=h<<18-6*m;for(m=0;m<l.length-1;m+=1)g[k>>2]|=(n>>>16-8*m&255)<<24-k%4*8,k+=1}return{value:g,binLen:8*k}}function v(d,e){var g="",k=4*d.length,h,m;for(h=0;h<k;h+=1)m=d[h>>>2]>>>8*(3-h%4),g+="0123456789abcdef".charAt(m>>>4&15)+"0123456789abcdef".charAt(m&
    15);return e.outputUpper?g.toUpperCase():g}function w(d,e){var g="",k=4*d.length,h,m,n;for(h=0;h<k;h+=3)for(n=(d[h>>>2]>>>8*(3-h%4)&255)<<16|(d[h+1>>>2]>>>8*(3-(h+1)%4)&255)<<8|d[h+2>>>2]>>>8*(3-(h+2)%4)&255,m=0;4>m;m+=1)g=8*h+6*m<=32*d.length?g+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>>6*(3-m)&63):g+e.b64Pad;return g}function u(e){var g={outputUpper:!1,b64Pad:"="};try{e.hasOwnProperty("outputUpper")&&(g.outputUpper=e.outputUpper),e.hasOwnProperty("b64Pad")&&(g.b64Pad=
    e.b64Pad)}catch(h){}"boolean"!==typeof g.outputUpper&&d("Invalid outputUpper formatting option");"string"!==typeof g.b64Pad&&d("Invalid b64Pad formatting option");return g}function k(d,e){return d>>>e|d<<32-e}function h(d,e,g){return d&e^~d&g}function e(d,e,g){return d&e^d&g^e&g}function n(d){return k(d,2)^k(d,13)^k(d,22)}function g(d){return k(d,6)^k(d,11)^k(d,25)}function A(d){return k(d,7)^k(d,18)^d>>>3}function R(d){return k(d,17)^k(d,19)^d>>>10}function G(d,e){var g=(d&65535)+(e&65535);return((d>>>
    16)+(e>>>16)+(g>>>16)&65535)<<16|g&65535}function P(d,e,g,h){var k=(d&65535)+(e&65535)+(g&65535)+(h&65535);return((d>>>16)+(e>>>16)+(g>>>16)+(h>>>16)+(k>>>16)&65535)<<16|k&65535}function B(d,e,g,h,k){var m=(d&65535)+(e&65535)+(g&65535)+(h&65535)+(k&65535);return((d>>>16)+(e>>>16)+(g>>>16)+(h>>>16)+(k>>>16)+(m>>>16)&65535)<<16|m&65535}function H(k,l,w){var u,r,m,s,v,x,I,J,K,t,L,F,q,b,a,c,p,y,z,f,D,V,W,X,Y,Z,O=[],aa,U;"SHA-224"===w||"SHA-256"===w?(L=64,b=16,a=1,Y=Number,c=G,p=P,y=B,z=A,f=R,D=n,V=g,
    X=e,W=h,Z=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,
    4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],t="SHA-224"===w?[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]:[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]):d("Unexpected error in SHA-2 implementation");k[l>>>5]|=128<<24-l%32;k[(l+65>>>9<<4)+15]=l;aa=k.length;for(F=0;F<aa;F+=
    b){l=t[0];u=t[1];r=t[2];m=t[3];s=t[4];v=t[5];x=t[6];I=t[7];for(q=0;q<L;q+=1)O[q]=16>q?new Y(k[q*a+F],k[q*a+F+1]):p(f(O[q-2]),O[q-7],z(O[q-15]),O[q-16]),J=y(I,V(s),W(s,v,x),Z[q],O[q]),K=c(D(l),X(l,u,r)),I=x,x=v,v=s,s=c(m,J),m=r,r=u,u=l,l=c(J,K);t[0]=c(l,t[0]);t[1]=c(u,t[1]);t[2]=c(r,t[2]);t[3]=c(m,t[3]);t[4]=c(s,t[4]);t[5]=c(v,t[5]);t[6]=c(x,t[6]);t[7]=c(I,t[7])}"SHA-224"===w?U=[t[0],t[1],t[2],t[3],t[4],t[5],t[6]]:"SHA-256"===w?U=t:d("Unexpected error in SHA-2 implementation");return U}window.jsSHA=
    function(e,g,h){var k=null,n=null,m=0,A=[0],B=0,x=null,B="undefined"!==typeof h?h:8;8===B||16===B||d("charSize must be 8 or 16");"HEX"===g?(0!==e.length%2&&d("srcString of HEX type must be in byte increments"),x=l(e),m=x.binLen,A=x.value):"ASCII"===g||"TEXT"===g?(x=s(e,B),m=x.binLen,A=x.value):"B64"===g?(x=r(e),m=x.binLen,A=x.value):d("inputFormat must be HEX, TEXT, ASCII, or B64");this.getHash=function(e,g,h){var l=null,r=A.slice(),s="";switch(g){case "HEX":l=v;break;case "B64":l=w;break;default:d("format must be HEX or B64")}"SHA-224"===
        e?(null===k&&(k=H(r,m,e)),s=l(k,u(h))):"SHA-256"===e?(null===n&&(n=H(r,m,e)),s=l(n,u(h))):d("Chosen SHA variant is not supported");return s};this.getHMAC=function(e,g,h,k,n){var x,q,b,a,c,p=[],y=[],z=null;switch(k){case "HEX":x=v;break;case "B64":x=w;break;default:d("outputFormat must be HEX or B64")}"SHA-224"===h?(b=64,c=224):"SHA-256"===h?(b=64,c=256):d("Chosen SHA variant is not supported");"HEX"===g?(z=l(e),a=z.binLen,q=z.value):"ASCII"===g||"TEXT"===g?(z=s(e,B),a=z.binLen,q=z.value):"B64"===
        g?(z=r(e),a=z.binLen,q=z.value):d("inputFormat must be HEX, TEXT, ASCII, or B64");e=8*b;g=b/4-1;b<a/8?(q=H(q,a,h),q[g]&=4294967040):b>a/8&&(q[g]&=4294967040);for(b=0;b<=g;b+=1)p[b]=q[b]^909522486,y[b]=q[b]^1549556828;h=H(y.concat(H(p.concat(A),e+m,h)),e+c,h);return x(h,u(n))}}})();
var CSSJSON=new function(){var d=this;d.init=function(){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.repeat=function(d){return Array(1+d).join(this)}};d.init();var s=/\/\*[\s\S]*?\*\//g,l=/([^\:]+):([^\;]*);/,r=/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gmi,v=function(d){return"undefined"==typeof d||0==d.length||null==d};d.toJSON=function(w,u){var k={children:{},attributes:{}},h=null,e=0;"undefined"==typeof u&&(u={ordered:!1,
    comments:!1,stripComments:!1,split:!1});u.stripComments&&(u.comments=!1,w=w.replace(s,""));for(;null!=(h=r.exec(w));)if(!v(h[1])&&u.comments)h=h[1].trim(),k[e++]=h;else if(v(h[2]))if(v(h[3]))v(h[4])||(h=h[4].trim(),(n=l.exec(h))?(h=n[1].trim(),n=n[2].trim(),u.ordered?(g={},g.name=h,g.value=n,g.type="attr",k[e++]=g):h in k.attributes?(g=k.attributes[h],g instanceof Array||(k.attributes[h]=[g]),k.attributes[h].push(n)):k.attributes[h]=n):k[e++]=h);else break;else{var h=h[2].trim(),n=d.toJSON(w,u);if(u.ordered){var g=
{};g.name=h;g.value=n;g.type="rule";k[e++]=g}else for(i in h=u.split?h.split(","):[h],h)if(g=h[i].trim(),g in k.children)for(var A in n.attributes)k.children[g].attributes[A]=n.attributes[A];else k.children[g]=n}return k};d.toCSS=function(l,s,k){var h="";"undefined"==typeof s&&(s=0);"undefined"==typeof k&&(k=!1);if(l.attributes)for(i in l.attributes){var e=l.attributes[i];if(e instanceof Array)for(var n=0;n<e.length;n++){var g;g=i;var r=e[n];g="\t".repeat(s)+g+": "+r+";\n";h+=g}else n=h,h=i,e="\t".repeat(s)+
    h+": "+e+";\n",h=n+e}if(l.children)for(i in e=!0,l.children)k&&!e?h+="\n":e=!1,n=h,r=i,h=l.children[i],g=s,r="\t".repeat(g)+r+" {\n",r+=d.toCSS(h,g+1),r+="\t".repeat(g)+"}\n",h=n+r;return h}};
(function(){var d,s,l,r,v,w,u,k,h,e,n,g,A,R,G,P,B,H,S,N,M,E,C,m,Q,T,x,I,J,K,t,L,F={}.hasOwnProperty,q=function(b,a){function c(){this.constructor=b}for(var p in a)F.call(a,p)&&(b[p]=a[p]);c.prototype=a.prototype;b.prototype=new c;b.__super__=a.prototype;return b};g=function(){function b(){this.boxIds=[]}b.prototype.undo=function(){};b.prototype.execute=function(){};b.prototype.getType=function(){};b.prototype.getPageNum=function(){};return b}();E=function(){function b(a){this.root=a;this.element=
    void 0}b.prototype.buildElement=function(){};b.prototype.bindEvents=function(){};return b}();M=function(){function b(){}b.rectContainsRect=function(a,c){return c.topLeft.left>=a.topLeft.left&&c.topLeft.top>=a.topLeft.top&&c.topLeft.left+c.size.width<=a.topLeft.left+a.size.width&&c.topLeft.top+c.size.height<=a.topLeft.top+a.size.height};b.rectContainsPoint=function(a,c){return c.left>=a.topLeft.left&&c.top>=a.topLeft.top&&c.left<=a.topLeft.left+a.size.width&&c.top<=a.topLeft.top+a.size.height};b.pointEqualToPoint=
    function(a,c){return a.left===c.left&&a.top===c.top};return b}();m=function(){function b(){}b.C=67;b.V=86;b.Z=90;b.Y=89;b.DELETE=46;b.SHIFT=16;b.MAC_CMD_LEFT=91;b.MAC_CMD_RIGHT=93;b.MAC_DELETE=8;return b}();J=function(){function b(a){this.root=a}b.prototype.bindEvents=function(){var a=this;return this.root.keydown(function(c){c.keyCode===m.Z&&c.ctrlKey&&(c.preventDefault(),a.root.trigger("requestUndo"));c.keyCode===m.Y&&c.ctrlKey&&(c.preventDefault(),a.root.trigger("requestRedo"));if(c.keyCode===
    m.DELETE||c.keyCode===m.DELETE&&c.ctrlKey)c.preventDefault(),a.root.trigger("requestDelete");c.keyCode===m.C&&c.ctrlKey&&c.shiftKey&&(c.preventDefault(),a.root.trigger("requestCopy"));if(c.keyCode===m.V&&c.ctrlKey&&c.shiftKey)return c.preventDefault(),a.root.trigger("requestPaste")})};return b}();T=function(){function b(a){this.root=a;this.rightCmdKeyPressed=this.leftCmdKeyPressed=!1}b.prototype.bindEvents=function(){var a=this;return this.root.keydown(function(c){if(c.keyCode===m.MAC_CMD_LEFT)return a.leftCmdKeyPressed=
    !0;if(c.keyCode===m.Z&&a._cmdKeyIsPressed())return c.preventDefault(),a.root.trigger("requestUndo");if(c.keyCode===m.Y&&a._cmdKeyIsPressed())return c.preventDefault(),a.root.trigger("requestRedo");if(c.keyCode===m.MAC_DELETE&&a._cmdKeyIsPressed())return c.preventDefault(),a.root.trigger("requestDelete");if(c.keyCode===m.C&&a._cmdKeyIsPressed()&&c.shiftKey)return c.preventDefault(),a.root.trigger("requestCopy");if(c.keyCode===m.V&&a._cmdKeyIsPressed()&&c.shiftKey)return c.preventDefault(),a.root.trigger("requestPaste")}).keyup(function(c){c.keyCode===
    m.MAC_CMD_LEFT&&(a.leftCmdKeyPressed=!1);c.keyCode===m.MAC_CMD_RIGHT&&(a.rightCmdKeyPressed=!1);if(c.keyCode===m.SHIFT)return a.shiftKeyPressed=!1})};b.prototype._cmdKeyIsPressed=function(){return this.rightCmdKeyPressed||this.leftCmdKeyPressed};return b}();P=function(){function b(){}b.getController=function(a){return null!==navigator.userAgent.match(/Macintosh/)?new T(a):new J(a)};return b}();l=function(){function b(a){this.graphic=a;this.content=this.controller=void 0}b.prototype.bindEvents=function(){var a=
    this;this.controller=P.getController(this.graphic.element);this.graphic.element.on("requestUndo",function(c){a._checkNewContent(!1);return c.stopPropagation()}).focus(function(c){return a._checkNewContent(!0)}).blur(function(c){return a._checkNewContent(!0)});return this.controller.bindEvents()};b.prototype._checkNewContent=function(a){var c;c=this.graphic.element.html();null!=this.content&&this.content!==c&&this.graphic.element.trigger("graphicContentChanged",[{graphic:this.graphic,prevContent:this.content,
    newContent:c}]);return this.content=a?c:void 0};return b}();s=function(b){function a(c,p){this.root=c;this.options=p;a.__super__.constructor.call(this,this.root);this.helper=new l(this);this.prevPosition=void 0;this.clickTimeoutId=this.prevMouseUpTime=this.clickCount=this.prevMouseDownTime=0;this.preventDefaultMouseDown=!0}q(a,b);a.CLICK_TIME_MILLIS=200;a.DBLCLICK_TIME_MILLIS=200;a.TOOLTIP_DISPEAR_MILLS=1E3;a.prototype.buildElement=function(){var c,a;a=void 0;c=this.root.find(".ppedit-box");0<c.length&&
(a=0,c.each(function(c,b){return a=Math.max(a,parseInt($(b).css("z-index")))}));c=$.extend({left:"50px",top:"50px",width:"75px",height:"50px",color:"black","font-family":"Times New Roman","font-size":"12pt","font-weight":"normal","text-decoration":"none","font-style":"normal","line-height":"117%","letter-spacing":"0px",padding:"0px","z-index":null!=a?a+1:0,"text-align":"left","vertical-align":"bottom"},this.options);return this.element=$("<div></div>").addClass("ppedit-box").attr("contenteditable",
    !0).attr("id",$.now()).css(c)};a.prototype.bindEvents=function(){var c=this;this.element.mousedown(function(a){a.stopPropagation();c.element.hasClass("ppedit-box-focus")||a.preventDefault();c.select();return c.prevMouseDownTime=a.timeStamp}).mouseup(function(p){p.preventDefault();p.timeStamp-c.prevMouseDownTime<a.CLICK_TIME_MILLIS&&(c.clickCount++,0===c.clickTimeoutId&&(c.clickTimeoutId=setTimeout(function(){1===c.clickCount?c._onClick():2<=c.clickCount&&c._onDoubleClick();c.clickTimeoutId=0;return c.clickCount=
    0},a.DBLCLICK_TIME_MILLIS)));return c.stopMoving()}).click(function(a){a.stopPropagation();if(!c.element.hasClass("ppedit-box-focus"))return a.preventDefault()}).dblclick(function(a){a.stopPropagation();if(!c.element.hasClass("ppedit-box-focus"))return a.preventDefault()}).focus(function(a){return c.element.trigger("boxSelected",[c])}).on("containerMouseMove",function(a,b,d){if(a.target===c.element.get(0)&&!c.element.hasClass("ppedit-box-focus")&&c.element.hasClass("ppedit-box-selected")&&null!=d)return c.move(d.x,
    d.y)}).on("containerMouseLeave",function(){return c.stopMoving()}).on("containerMouseUp",function(a,b){return c.stopMoving()}).on("containerKeyDown",function(a,b){if(c.element.hasClass("ppedit-box-selected"))return c._processKeyDownEvent(b)}).keydown(function(a){if(!c.isFocused())return c._processKeyDownEvent(a)}).mouseenter(function(a){return c.element.trigger("boxMouseOver",[c])}).mouseleave(function(c){});return this.helper.bindEvents()};a.prototype._processKeyDownEvent=function(c){var a,b;b=this.currentPosition();
    a=!1;37===c.which&&(c.preventDefault(),a=!0,this.move(-1,0));38===c.which&&(c.preventDefault(),a=!0,this.move(0,-1));39===c.which&&(c.preventDefault(),a=!0,this.move(1,0));40===c.which&&(c.preventDefault(),a=!0,this.move(0,1));if(a)return this.element.trigger("boxMoved",[this,this.currentPosition(),b])};a.prototype.stopMoving=function(){this.element.removeClass("ppedit-box-selected");null==this.prevPosition||M.pointEqualToPoint(this.currentPosition(),this.prevPosition)||($(document).find(".snapImg").hasClass("snapBtn-selected")&&
    this.snap(),this.root.trigger("boxMoved",[this,$.extend(!0,{},this.currentPosition()),$.extend(!0,{},this.prevPosition)]));this.prevPosition=void 0;if($(document).find(".snapImg").hasClass("snapBtn-selected"))return this.root.find(".hDotLine").removeClass("ppedit-hDotLine"),this.root.find(".vDotLine").removeClass("ppedit-vDotLine")};a.prototype.move=function(c,a){var b;b=this.currentPosition();this.setPosition(c+b.left,a+b.top);b=this.getSnapPosition(this.currentPosition());if($(document).find(".snapImg").hasClass("snapBtn-selected"))return this.root.find(".hDotLine").addClass("ppedit-hDotLine").css("top",
    b.top),this.root.find(".vDotLine").addClass("ppedit-vDotLine").css("left",b.left)};a.prototype.setPosition=function(c,a){this.element.css("left",c+"px");return this.element.css("top",a+"px")};a.prototype.currentPosition=function(){return this.element.position()};a.prototype.snap=function(){var c;c=this.getSnapPosition(this.currentPosition());return this.setPosition(c.left,c.top)};a.prototype.getSnapPosition=function(c){var a;a=8*parseInt(c.left/8);c=8*parseInt(c.top/8);return{left:a,top:c}};a.prototype.select=
    function(){this.element.addClass("ppedit-box-selected");return this.prevPosition=this.currentPosition()};a.prototype.isFocused=function(){return this.element.get(0)===document.activeElement};a.prototype._enableFocus=function(){this.root.find(".ppedit-box").removeClass("ppedit-box-focus").removeClass("ppedit-box-selected");return this.element.addClass("ppedit-box-focus").focus()};a.prototype.addBulletPoint=function(){return this._addHtml($("<ul><li></li></ul>"))};a.prototype.addOrderedPointList=function(){return this._addHtml($("<ol><li></li></ol>"))};
    a.prototype._addHtml=function(c){var a;a=$(window.getSelection().getRangeAt(0).startContainer.parentNode);0===a.closest(".ppedit-box").length&&(a=this.element);c.find("li").html(a.html());return a.empty().append(c)};a.prototype._getCursorPosition=function(){return window.getSelection().getRangeAt(0).startOffset};a.prototype._onClick=function(){};a.prototype._onDoubleClick=function(){return this._enableFocus()};return a}(E);L=function(b){function a(c,p,b){this.editor=c;this.pageNum=p;a.__super__.constructor.call(this);
    p=b.toArray();var d,f;f=[];b=0;for(d=p.length;b<d;b++)c=p[b],f.push(c.id);this.boxIds=f;this.boxes=this.editor.areas[this.pageNum].boxesContainer.getBoxesFromIds(this.boxIds)}q(a,b);a.prototype.execute=function(){var c,a,b,d,f;this.editor.areas[this.pageNum].boxesContainer.removeBoxes(this.boxIds);d=this.boxIds;f=[];a=0;for(b=d.length;a<b;a++)c=d[a],f.push(this.editor.panel.removeBoxRow(c));return f};a.prototype.undo=function(){var c,a,b,d,f;d=this.boxes;f=[];a=0;for(b=d.length;a<b;a++)c=d[a],this.editor.areas[this.pageNum].boxesContainer.addBox(c),
    f.push(this.editor.panel.addBoxRow(c.element.attr("id")));return f};a.prototype.getType=function(){return"Remove"};a.prototype.getPageNum=function(){return this.pageNum};return a}(g);I=function(b){function a(c,p,b,d){this.box=c;this.pageNum=p;this.toPosition=b;this.fromPosition=d;a.__super__.constructor.call(this);this.boxIds.push(this.box.element.attr("id"));null==d&&(this.fromPosition=this.box.currentPosition())}q(a,b);a.prototype.execute=function(){return this.box.setPosition(this.toPosition.left,
    this.toPosition.top)};a.prototype.undo=function(){return this.box.setPosition(this.fromPosition.left,this.fromPosition.top)};a.prototype.getType=function(){return"Modify"};a.prototype.getPageNum=function(){return this.pageNum};return a}(g);v=function(b){function a(c){this.root=c;a.__super__.constructor.call(this,this.root);this._context=this.rectSize=this.downPosition=void 0}q(a,b);a.prototype.buildElement=function(){return this.element=$("<canvas></canvas>").addClass("ppedit-canvas").attr("width",
    "920px").attr("height","1325px")};a.prototype.bindEvents=function(){var c=this;this.element.on("containerMouseDown",function(a,b){c.downPosition={left:b.offsetX,top:b.offsetY};return c.rectSize={width:0,height:0}}).on("containerMouseMove",function(a,b,d){if(null!=c.downPosition&&null!=c.rectSize&&null!=d)return c.rectSize.width+=d.x,c.rectSize.height+=d.y,c.drawRect(c.downPosition,c.rectSize)}).on("containerMouseLeave",function(){return c.clear()}).on("containerMouseUp",function(){null!=c.downPosition&&
    null!=c.rectSize&&c.element.trigger("canvasRectSelect",[{topLeft:c.downPosition,size:c.rectSize}]);return c.clear()});return this._context=this.element.get(0).getContext("2d")};a.prototype.drawRect=function(c,a){this._context.clearRect(0,0,this.element.width(),this.element.height());this._context.globalAlpha=0.2;this._context.beginPath();this._context.rect(c.left,c.top,a.width,a.height);this._context.fillStyle="blue";return this._context.fill()};a.prototype.clear=function(){this._context.clearRect(0,
    0,this.element.width(),this.element.height());return this.rectSize=this.downPosition=void 0};return a}(E);r=function(b){function a(c){this.root=c;a.__super__.constructor.call(this,this.root);this.boxes={}}q(a,b);a.CLICK_TIME_INTERVAL=200;a.prototype.buildElement=function(){this.element=$("<div></div>").addClass("ppedit-box-container");this.element.append('<p class="hDotLine"></p>');return this.element.append('<p class="vDotLine"></p>')};a.prototype.bindEvents=function(){var c,a,b,d,f=this;this.element.mousedown(function(c){c.preventDefault();
    return f.unSelectAllBoxes()}).dblclick(function(c){c=f.getPointClicked(c);if(0===f.getSelectedBoxes().length)return f.element.trigger("addBoxRequested",[c])}).click(function(c){f.element.trigger("unSelectBoxes");return f.element.parent().trigger("removeToolTip")});b=this.boxes;d=[];for(a in b)c=b[a],d.push(c.bindEvents());return d};a.prototype.selectBoxesInRect=function(c){var a,b=this;a={topLeft:{left:c.topLeft.left+this.element.scrollLeft(),top:c.topLeft.top+this.element.scrollTop()},size:c.size};
    0>a.size.width&&(a.topLeft.left-=Math.abs(a.size.width),a.size.width=Math.abs(a.size.width));0>a.size.height&&(a.topLeft.top-=Math.abs(a.size.height),a.size.height=Math.abs(a.size.height));return this.getAllBoxes().each(function(c,d){if(M.rectContainsRect(a,b.boxBounds($(d))))return b.boxes[d.id].select()})};a.prototype.boxBounds=function(c){return{topLeft:{left:c.position().left+this.element.scrollLeft(),top:c.position().top+this.element.scrollTop()},size:{width:c.width(),height:c.height()}}};a.prototype.addBox=
    function(c){null==c.element&&c.buildElement();this.element.append(c.element);c.bindEvents();return this.boxes[c.element.attr("id")]=c};a.prototype.removeBoxes=function(c){var a,b,d,f;f=[];b=0;for(d=c.length;b<d;b++)a=c[b],this.boxes[a].element.removeClass("ppedit-box-selected").removeClass("ppedit-box-focus").remove(),f.push(delete this.boxes[a]);return f};a.prototype.getBoxesFromIds=function(c){var a,b,d,f;f=[];b=0;for(d=c.length;b<d;b++)a=c[b],null!=this.boxes[a]&&f.push(this.boxes[a]);return f};
    a.prototype.getBoxesFromSelector=function(c){var a,b,d,f;a={};f=c.toArray();b=0;for(d=f.length;b<d;b++)c=f[b],a[c.id]=this.boxes[c.id];return a};a.prototype.getAllBoxes=function(){return this.element.find(".ppedit-box")};a.prototype.getSelectedBoxes=function(){return this.element.find(".ppedit-box:focus, .ppedit-box-selected, .ppedit-box-focus")};a.prototype.getNotFocusedSelectedBoxes=function(){return this.element.find(".ppedit-box-selected")};a.prototype.changeBoxOpacity=function(c,a){return this.boxes[c].element.css("opacity",
        a)};a.prototype.unSelectAllBoxes=function(){var c,a,b,d;b=this.boxes;d=[];for(a in b)c=b[a],c.stopMoving(),d.push(c.element.removeClass("ppedit-box-focus").blur());return d};a._rectContainsRect=function(c,a){return a.topLeft.x>=c.topLeft.x&&a.topLeft.y>=c.topLeft.y&&a.topLeft.x+a.size.width<=c.topLeft.x+c.size.width&&a.topLeft.y+a.size.height<=c.topLeft.y+c.size.height};a.prototype.getPointClicked=function(c){return{left:event.offsetX+this.element.scrollLeft(),top:event.offsetY+this.element.scrollTop()}};
    a.prototype.getAllHunks=function(){var c,a,b,d;b=this.boxes;d=[];for(a in b)c=b[a],d.push({id:a,html:c.element.wrap("<div></div>").parent().html()});return d};return a}(E);C=function(b){function a(c){this.root=c;a.__super__.constructor.call(this,this.root)}q(a,b);a.prototype.buildElement=function(){return this.element=$('       <div class="ppedit-grid">            <svg width="100%" height="100%">              <defs>                <pattern id="smallGrid" width="8" height="8" patternUnits="userSpaceOnUse">                  <path d="M 8 0 L 0 0 0 8" fill="none" stroke="gray" stroke-width="0.5"/>                </pattern>                <pattern id="grid" width="80" height="80" patternUnits="userSpaceOnUse">                  <rect width="80" height="80" fill="url(#smallGrid)"/>                  <path d="M 80 0 L 0 0 0 80" fill="none" stroke="gray" stroke-width="1"/>                </pattern>              </defs>              <rect width="100%" height="100%" fill="url(#grid)" />            </svg>      </div>')};
    a.prototype.toggleGrid=function(){return this.element.toggle()};return a}(E);S=function(b){function a(c,b){this.root=c;this.pageNum=b;a.__super__.constructor.call(this,this.root);this.fontPanel=this.boxesContainer=this.grid=this.canvas=this.prevMouseMoveEvent=void 0;this.toolTipTimeout=0}q(a,b);a.prototype.buildElement=function(){this.element=$('<div class="editContainer shadow-effect"></div>').attr("id","ppedit-page-"+this.pageNum).append("<div></div>").addClass("ppedit-container").addClass("col-xs-8").attr("tabindex",
    0);this.boxesContainer=new r(this.element);this.canvas=new v(this.element);this.grid=new C(this.element);this.fontPanel=new N(this.root);this.fontPanel.buildElement();this.boxesContainer.buildElement();this.canvas.buildElement();this.grid.buildElement();this.element.append(this.boxesContainer.element);this.element.append(this.canvas.element);return this.element.append(this.grid.element)};a.prototype.bindEvents=function(){var c=this;this.element.mousedown(function(){if(0===c.boxesContainer.getNotFocusedSelectedBoxes().length)return c.canvas.element.trigger("containerMouseDown",
    [event])}).mousemove(function(a){var b;b=void 0;null!=c.prevMouseMoveEvent&&(b={x:a.clientX-c.prevMouseMoveEvent.clientX,y:a.clientY-c.prevMouseMoveEvent.clientY});c.element.find("*").trigger("containerMouseMove",[a,b]);return c.prevMouseMoveEvent=a}).mouseleave(function(){c.element.find("*").trigger("containerMouseLeave");return c.prevMouseMoveEvent=void 0}).mouseup(function(a){c.element.find("*").trigger("containerMouseUp",[a]);return c.prevMouseMoveEvent=void 0}).keydown(function(a){return c.element.find("*").trigger("containerKeyDown",
    [a])}).on("canvasRectSelect",function(a,b){return c.boxesContainer.selectBoxesInRect(b)}).on("boxSelected",function(a,b){c.fontPanel.setSettingsFromStyle(b.element.get(0).style);return c.showToolTip(b)}).on("boxMouseOver",function(a,b){c.fontPanel.setSettingsFromStyle(b.element.get(0).style);return c.showToolTip(b)}).on("removeToolTip",function(a){return c.removeToolTip()}).on("boxMouseLeave",function(a){return c.toolTipTimeout=setTimeout(function(){return c.removeToolTip()},s.TOOLTIP_DISPEAR_MILLS)});
    this.fontPanel.element.mouseover(function(a){return clearTimeout(c.toolTipTimeout)});this.boxesContainer.bindEvents();this.canvas.bindEvents();this.grid.bindEvents();return this.fontPanel.bindEvents()};a.prototype.setToolTipPosition=function(c,a,b,d){var f;f=this.fontPanel.element;if(this.element.height()-a-b<f.height()+10)return this.element.width()-c-d/2<f.width()+10?f.css("left",c+d/2-f.width()+"px"):f.css("left",c+d/2+"px"),f.css("top",a-f.height()-25+"px");this.element.width()-c-d/2<f.width()+
    10?f.css("left",c+d/2-f.width()+"px"):f.css("left",c+d/2+"px");return f.css("top",a+b+10+"px")};a.prototype.showToolTip=function(c){this.element.append(this.fontPanel.element);return N.LEFT_POSITION||N.TOP_POSITION?(this.fontPanel.element.css("left",this.fontPanel.leftPosition+"px"),this.fontPanel.element.css("top",this.fontPanel.topPosition+"px")):this.setToolTipPosition(c.currentPosition().left,c.currentPosition().top,c.element.height(),c.element.width())};a.prototype.removeToolTip=function(){return this.fontPanel.element.detach()};
    return a}(E);d=function(b){function a(c,b,d){this.editor=c;this.addPage=b;this.pageNum=d;a.__super__.constructor.call(this);this.area=void 0;this.boxIds=null!=this.editor.areas[this.pageNum]?Object.getOwnPropertyNames(this.editor.areas[d].boxesContainer.boxes):[]}q(a,b);a.prototype.execute=function(){return this.addPage?(null==this.pageNum&&(this.pageNum=this.editor.areas.length),this._insertNewPage(this.pageNum)):this._removePage(this.pageNum)};a.prototype.undo=function(){return this.addPage?this._removePage(this.pageNum):
    this._insertPage(this.pageNum,this.area)};a.prototype._insertNewPage=function(c){var a;a=new S(this.editor.element,this.editor.areas.length);a.buildElement();this._insertPage(c,a);return this.area=a};a.prototype._insertPage=function(c,a){var b,d,f,D,e,g,h,k;0<c?a.element.insertAfter(this.editor.superContainer.children().eq(c-1)):this.editor.superContainer.append(a.element);a.bindEvents();D=this.editor.panel;D.insertTab(c);d=a.boxesContainer.boxes;for(f in d)b=d[f],e=D.getRows(c),0===e.length?D.addBoxRow(f):
    e.each(function(c,d){var g;g=$(d).attr("ppedit-box-id");g=a.boxesContainer.boxes[g].element.css("z-index");if(parseInt(g)<parseInt(b.element.css("z-index"))||c===e.length-1)return D.addBoxRow(f,c),!1});this.editor.areas=this.editor.areas.slice(0,c).concat([a]).concat(this.editor.areas.slice(c));k=[];d=g=0;for(h=this.editor.areas.length-1;0<=h?g<=h:g>=h;d=0<=h?++g:--g)k.push(this.editor.areas[d].element.attr("id","ppedit-page-"+d));return k};a.prototype._removePage=function(c){var a,b,d;this.area=
    this.editor.areas.splice(c,1)[0];this.area.element.detach();this.editor.panel.removeTab(c);d=[];c=a=0;for(b=this.editor.areas.length-1;0<=b?a<=b:a>=b;c=0<=b?++a:--a)this.editor.areas[c].element.attr("id","ppedit-page-"+c),this.editor.areas[c].grid.toggleGrid(),d.push(this.editor.areas[c].grid.toggleGrid());return d};a.prototype.getType=function(){return this.addPage?"addPage":"removePage"};a.prototype.getPageNum=function(){return this.pageNum};return a}(g);Q=function(b){function a(c,b){this.editor=
    c;this.jsonBoxes=b;a.__super__.constructor.call(this)}q(a,b);a.prototype.execute=function(){var a,b,e,g,f,D,h,k,l,m,n;h=this.jsonBoxes;if(h.length>this.editor.areas.length)for(f=m=0,n=h.length-this.editor.areas.length;0<=n?m<=n:m>=n;f=0<=n?++m:--m)a=new d(this.editor,!0),a.execute();n=[];f=a=0;for(m=h.length-1;0<=m?a<=m:a>=m;f=0<=m?++a:--a)n.push(function(){var a,c;a=h[f];c=[];for(D in a)g=a[D],b=this.editor.areas[f],k=this.editor.panel,e=new s(b.boxesContainer.element),e.element=$(g.html),b.boxesContainer.addBox(e),
    l=k.getRows(f),0===l.length?k.addBoxRow(f,D):l.each(function(a,c){var d;d=$(c).attr("ppedit-box-id");d=b.boxesContainer.boxes[d].element.css("z-index");if(parseInt(d)<parseInt(e.element.css("z-index"))||a===l.length-1)return k.addBoxRow(f,D,a),!1}),c.push(k.setBoxName(D,g.name));return c}.call(this));return n};a.prototype.undo=function(){};a.prototype.getType=function(){return"Create"};a.prototype.getPageNum=function(){};return a}(g);H=function(b){function a(c,b,d){this.editor=c;this.pageNum=b;this.optionsList=
    d;a.__super__.constructor.call(this);this.boxes=[]}q(a,b);a.prototype.execute=function(){var a,b,d,e,f;if(null!=this.optionsList){if(0===this.boxes.length)for(e=this.optionsList,b=0,d=e.length;b<d;b++)a=e[b],this.boxes.push(new s(this.editor.areas[this.pageNum].boxesContainer.element,a));e=this.boxes;f=[];b=0;for(d=e.length;b<d;b++)a=e[b],f.push(this._addBox(a));return f}0===this.boxes.length&&this.boxes.push(new s(this.editor.areas[this.pageNum].boxesContainer.element));return this._addBox(this.boxes[0])};
    a.prototype.undo=function(){var a,b,d,e,f;e=this.boxes;f=[];b=0;for(d=e.length;b<d;b++)a=e[b],this.editor.areas[this.pageNum].boxesContainer.removeBoxes([a.element.attr("id")]),f.push(this.editor.panel.removeBoxRow([a.element.attr("id")]));return f};a.prototype._addBox=function(a){this.editor.areas[this.pageNum].boxesContainer.addBox(a);a=a.element.attr("id");this.editor.panel.addBoxRow(this.pageNum,a);if(-1===this.boxIds.indexOf(a))return this.boxIds.push(a)};a.prototype.getType=function(){return"Create"};
    a.prototype.getPageNum=function(){return this.pageNum};return a}(g);B=function(b){function a(c,b,d){this.editor=c;this.pageNum=b;this.boxesClones=d;a.__super__.constructor.call(this);this.newBoxes=[]}q(a,b);a.prototype.execute=function(){var a,b,d,e,f,g=this;0===this.newBoxes.length&&this.boxesClones.each(function(a,c){var b;b=CSSJSON.toJSON(c.style.cssText).attributes;b=new s(g.editor.areas[g.pageNum].boxesContainer.element,b);return g.newBoxes[a]=b});f=[];b=d=0;for(e=this.newBoxes.length-1;0<=e?
    d<=e:d>=e;b=0<=e?++d:--d)a=this.newBoxes[b],this.editor.areas[this.pageNum].boxesContainer.addBox(a),a.element.html(this.boxesClones.eq(b).html()),this.editor.panel.addBoxRow(this.pageNum,a.element.attr("id")),f.push(this.boxIds[b]=a.element.attr("id"));return f};a.prototype.undo=function(){var a,b,d,e,f;e=this.newBoxes;f=[];b=0;for(d=e.length;b<d;b++)a=e[b],this.editor.areas[this.pageNum].boxesContainer.removeBoxes([a.element.attr("id")]),f.push(this.editor.panel.removeBoxRow([a.element.attr("id")]));
    return f};a.prototype.getType=function(){return"Create"};a.prototype.getPageNum=function(){return this.pageNum};return a}(g);G=function(){function b(){}b.INIT_NUM_OF_PAGES=2;b.MAX_NUM_OF_PAGES=3;b.HUNK_NAME_MAX_NUM_OF_CHAR=10;return b}();R=function(){function b(){this.initNumOfPages=G.INIT_NUM_OF_PAGES;this.undoStack=[];this.redoStack=[]}b.prototype.pushCommand=function(a,c){(null==c||c)&&a.execute();this.undoStack.push(a);return this.redoStack.splice(0,this.redoStack.length)};b.prototype.undo=function(){var a;
    if(0<this.undoStack.length)return a=this.undoStack.pop(),a.undo(),this.redoStack.push(a)};b.prototype.redo=function(){var a;if(0<this.redoStack.length)return a=this.redoStack.pop(),a.execute(),this.undoStack.push(a)};b.prototype.getUndoJSON=function(){var a,c,b,d,e,f,g,h,k,l,m,n;c={modified:function(){var a,c,b;b=[];a=0;for(c=this.initNumOfPages-1;0<=c?a<=c:a>=c;0<=c?++a:--a)b.push({});return b}.call(this),removed:function(){var a,c,b;b=[];a=0;for(c=this.initNumOfPages-1;0<=c?a<=c:a>=c;0<=c?++a:--a)b.push({});
    return b}.call(this),created:function(){var a,c,b;b=[];a=0;for(c=this.initNumOfPages-1;0<=c?a<=c:a>=c;0<=c?++a:--a)b.push({});return b}.call(this)};m=this.undoStack;g=0;for(k=m.length;g<k;g++){a=m[g];n=a.boxIds;h=0;for(l=n.length;h<l;h++)switch(b=n[h],a.getType()){case "Create":c.created[a.getPageNum()][""+b]={id:b,html:$("#"+b).clone().wrap("<div></div>").parent().html()||"",name:$("tr[ppedit-box-id="+b+"]").find("input").val()};break;case "Modify":null==c.created[a.getPageNum()][""+b]&&(c.modified[a.getPageNum()][""+
    b]={id:b,html:$("#"+b).clone().wrap("<div></div>").parent().html()||"",name:$("tr[ppedit-box-id="+b+"]").find("input").val()});break;case "Remove":delete c.modified[a.getPageNum()][""+b];null!=c.created[a.getPageNum()][""+b]?delete c.created[a.getPageNum()][""+b]:c.removed[a.getPageNum()][""+b]={id:b,html:"",name:""};break;case "removePage":delete c.modified[a.getPageNum()][""+b],null!=c.created[a.getPageNum()][""+b]?delete c.created[a.getPageNum()][""+b]:c.removed[a.getPageNum()][""+b]={id:b,html:"",
    name:""}}"removePage"===a.getType()?a.getPageNum()<c.modified.length-2&&(c.modified[a.getPageNum()]=$.extend(c.modified[a.getPageNum()],c.modified[a.getPageNum()+1]),c.created[a.getPageNum()]=$.extend(c.created[a.getPageNum()],c.created[a.getPageNum()+1]),c.removed[a.getPageNum()]=$.extend(c.removed[a.getPageNum()],c.removed[a.getPageNum()+1]),c.modified.splice(a.getPageNum()+1,1),c.created.splice(a.getPageNum()+1,1),c.removed.splice(a.getPageNum()+1,1)):"addPage"===a.getType()&&(c.modified.push({}),
    c.created.push({}),c.removed.push({}))}b={modified:function(){var a,b,p,g;p=c.modified;g=[];a=0;for(b=p.length;a<b;a++)e=p[a],g.push(function(){var a;a=[];for(d in e)f=e[d],a.push(f);return a}());return g}(),removed:function(){var a,b,p,g;p=c.removed;g=[];a=0;for(b=p.length;a<b;a++)e=p[a],g.push(function(){var a;a=[];for(d in e)f=e[d],a.push(f);return a}());return g}(),created:function(){var a,b,p,g;p=c.created;g=[];a=0;for(b=p.length;a<b;a++)e=p[a],g.push(function(){var a;a=[];for(d in e)f=e[d],
    a.push(f);return a}());return g}()};a=(new jsSHA(JSON.stringify(c),"TEXT")).getHMAC("","TEXT","SHA-256","HEX");b.etag=a;return JSON.stringify(b)};b.prototype.clearHistory=function(){return this.undoStack.splice(0,this.undoStack.length)};return b}();e=function(b){function a(c,b,d){this.editor=c;this.boxesSelector=b;this.newCssOptions=d;a.__super__.constructor.call(this);this.pageNum=this.editor.getPageNum(this.boxesSelector.first());this.boxesToCopy=this.boxesSelector.clone()}q(a,b);a.prototype.execute=
    function(){var a=this;return this.boxesSelector.each(function(b,d){return $(d).css(a.newCssOptions)})};a.prototype.undo=function(){var a=this;return this.boxesToCopy.each(function(b,d){var e;e=CSSJSON.toJSON(a.boxesToCopy.filter("#"+d.id).attr("style")).attributes;return a.boxesSelector.filter("#"+d.id).css(e)})};a.prototype.getType=function(){return"Modify"};a.prototype.getPageNum=function(){return this.pageNum};return a}(g);h=function(b){function a(c,b,d,e){this.editor=c;this.pageNum=b;this.moveUp=
    e;a.__super__.constructor.call(this);this.boxId=d.attr("id")}q(a,b);a.prototype.execute=function(){return this.moveUp?this.swapRowWithUpperRow():this.swapRowWithLowerRow()};a.prototype.undo=function(){return this.moveUp?this.swapRowWithLowerRow():this.swapRowWithUpperRow()};a.prototype.swapRowWithUpperRow=function(){var a,b;b=this.editor.panel.getRowWithBoxId(this.boxId);a=b.index();if(0<=a-1)return a=this.editor.panel.getRowAtIndex(this.pageNum,a-1),this.swapRows(b,a)};a.prototype.swapRowWithLowerRow=
    function(){var a,b;b=this.editor.panel.getRowWithBoxId(this.boxId);a=b.index();if(a+1<this.editor.panel.getRows(this.pageNum).length)return a=this.editor.panel.getRowAtIndex(this.pageNum,a+1),this.swapRows(b,a)};a.prototype.swapRows=function(a,b){var d,e,f;a.index()<b.index()?a.insertAfter(b):a.insertBefore(b);d=this.editor.areas[this.pageNum].boxesContainer.boxes[a.attr("ppedit-box-id")];e=d.element.css("z-index");f=this.editor.areas[this.pageNum].boxesContainer.boxes[b.attr("ppedit-box-id")];d.element.css("z-index",
    f.element.css("z-index"));return f.element.css("z-index",e)};a.prototype.getType=function(){return"Modify"};a.prototype.getPageNum=function(){return this.pageNum};return a}(g);w=function(b){function a(c,b,d,e){this.box=c;this.pageNum=b;this.prevContent=d;this.newContent=e;a.__super__.constructor.call(this);this.boxIds.push(this.box.element.attr("id"))}q(a,b);a.prototype.execute=function(){return this.box.element.html(this.newContent)};a.prototype.undo=function(){return this.box.element.html(this.prevContent)};
    a.prototype.getType=function(){return"Modify"};a.prototype.getPageNum=function(){return this.pageNum};return a}(g);k=function(b){function a(c,b,d,e,f){this.editor=c;this.pageNum=b;this.boxId=d;this.prevVal=e;this.newVal=f;a.__super__.constructor.call(this)}q(a,b);a.prototype.execute=function(){return this.changeOpacityToVal(this.newVal)};a.prototype.undo=function(){return this.changeOpacityToVal(this.prevVal)};a.prototype.changeOpacityToVal=function(a){this.editor.areas[this.pageNum].boxesContainer.changeBoxOpacity(this.boxId,
    a);return this.editor.panel.element.find("tr[ppedit-box-id="+this.boxId+"]").find(".ppedit-slider").slider("setValue",parseInt(100*a))};a.prototype.getType=function(){return"Modify"};a.prototype.getPageNum=function(){return this.pageNum};return a}(g);u=function(b){function a(c,b,d,e,f){this.editor=c;this.pageNum=d;this.prevName=e;this.newName=f;a.__super__.constructor.call(this);this.boxIds.push(b)}q(a,b);a.prototype.execute=function(){return this.editor.panel.setBoxName(this.boxIds[0],this.newName.substr(0,
    G.HUNK_NAME_MAX_NUM_OF_CHAR))};a.prototype.undo=function(){return this.editor.panel.setBoxName(this.boxIds[0],this.prevName.substr(0,G.HUNK_NAME_MAX_NUM_OF_CHAR))};a.prototype.getType=function(){return"Modify"};a.prototype.getPageNum=function(){return this.pageNum};return a}(g);A=function(){function b(){}b.prototype.createChangeFontSizeCommand=function(a,c,b){return new e(a,c,{"font-size":b})};b.prototype.createChangeFontTypeCommand=function(a,c,b){return new e(a,c,{"font-family":b})};b.prototype.createChangeLetterSpaceCommand=
    function(a,c,b){return new e(a,c,{"letter-spacing":b})};b.prototype.createChangeLineHeightCommand=function(a,c,b){return new e(a,c,{"line-height":b})};b.prototype.createChangePaddingCommand=function(a,c,b){return new e(a,c,{padding:b})};b.prototype.createChangeFontWeightCommand=function(a,c,b){return new e(a,c,{"font-weight":b?"bold":"normal"})};b.prototype.createChangeItalicFontCommand=function(a,c,b){return new e(a,c,{"font-style":b?"italic":"normal"})};b.prototype.createChangeUnderlineFontCommand=
    function(a,c,b){return new e(a,c,{"text-decoration":b?"underline":"none"})};b.prototype.createRightAlignmentCommand=function(a,c){return new e(a,c,{"text-align":"right"})};b.prototype.createLeftAlignmentCommand=function(a,c){return new e(a,c,{"text-align":"left"})};b.prototype.createCenterAlignmentCommand=function(a,c){return new e(a,c,{"text-align":"center"})};b.prototype.createChangeTextColorCommand=function(a,c,b){return new e(a,c,{color:"#"+b})};b.prototype.createChangeOpacityCommand=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          c,b,d,e){return new k(a,c,b,d,e)};b.prototype.createMoveBoxCommand=function(a,c,b,d){return new I(a,c,b,d)};b.prototype.createRemoveBoxesCommand=function(a,c,b){return new L(a,c,b)};b.prototype.createCopyBoxesCommand=function(a,c,b){return new B(a,c,b)};b.prototype.createCreateBoxesCommand=function(a,c,b){return new H(a,c,b)};b.prototype.createCreateChangeBoxContentCommand=function(a,c,b,d){return new w(a,c,b,d)};b.prototype.createMoveUpCommand=function(a,c,b){return new h(a,c,b,!0)};b.prototype.createMoveDownCommand=
    function(a,c,b){return new h(a,c,b,!1)};b.prototype.createLoadBoxesCommand=function(a,c){return new Q(a,c)};b.prototype.createAddPageCommand=function(a){return new d(a,!0)};b.prototype.createRemovePageCommand=function(a,c){return new d(a,!1,c)};b.prototype.createChangeBoxNameCommand=function(a,c,b,d,e){return new u(a,c,b,d,e)};return b}();t=function(b){function a(c){this.root=c;this.prevOpacityVal=void 0;this.prevBoxNameVal={};a.__super__.constructor.call(this,this.root)}q(a,b);a.prototype.buildElement=
    function(){return this.element=$('      <div class="menu-sidebar">          \x3c!-- Sidebar Right --\x3e        <div class="menu-tab-sidebar">            <div class="minimize-sidebar-btn shadow-effect">                <span class="minimize-text">&lt;&lt;</span>            </div>            <div class="menu-tab-pages">            </div>            <div class="add-tab-sidebar-btn shadow-effect">                <span class="add-text">+</span>            </div>        </div>         <div class="right-sidebar-container shadow-effect">            \x3c!-- Row 1 Menu  --\x3e            <div class="right-sidebar-menu1">              <div class="moveElementUpBtn menu-panel-icon"></div>              <div class="moveElementDownBtn menu-panel-icon"></div>              <div class="addElementBtn menu-panel-icon"></div>              <div class="ppedit-pageNumLabel"></div>              <div class="ppedit-deletePage menu-panel-icon"></div>             </div>          </div>      </div>')};
    a.prototype.bindEvents=function(){var a=this;this.element.find(".addElementBtn").click(function(){return a.element.trigger("panelClickAddBtnClick",[a._getDisplayedTabIndex()])});this.element.find(".moveElementUpBtn").click(function(){return a.element.trigger("moveElementUpBtnClick",[a._getDisplayedTabIndex()])});this.element.find(".moveElementDownBtn").click(function(){return a.element.trigger("moveElementDownBtnClick",[a._getDisplayedTabIndex()])});this.element.find(".add-tab-sidebar-btn").click(function(){return a.element.trigger("addTabBtnClick")});
        return this.element.find(".minimize-sidebar-btn").click(function(b){return a.element.toggleClass("menu-sidebar-open")})};a.prototype.addNewTab=function(){return this.insertTab(this.element.find(".page-sidebar-tab").length)};a.prototype.insertTab=function(a){var b,d=this;b=Math.max(a,this.element.find(".page-sidebar-tab").length);a=$('           <a href="#ppedit-page-'+b+'">                  <div class="page-sidebar-tab menu-right-btn shadow-effect">                    <span class="vertical-text">Page '+
        (b+1)+"</span>                  </div>           </a>    ");0===b?this.element.find(".menu-tab-pages").append(a):a.insertAfter(this.element.find(".menu-tab-pages a").eq(b-1));a.click(function(a){return d._displayTab(b)}).nextAll("a").each(function(a,c){return $(c).attr("href","#ppedit-page-"+(b+a+1)).html('            <div class="page-sidebar-tab menu-right-btn shadow-effect">              <span class="vertical-text">Page '+(b+a+2)+"</span>            </div>          ").click(function(){return d._displayTab(b+
        a+1)})});a=$('      \x3c!-- Row 2 Menu --\x3e      <div class="ppedit-row-container">        <table class="right-sidebar-menu2" cellspacing="0px" cellpadding="2px">        </table>      </div>    ');0===b?this.element.find(".right-sidebar-container").append(a):a.insertAfter(this.element.find(".ppedit-row-container").eq(b-1));return this._displayTab(b)};a.prototype.addBoxRow=function(a,b,d){var e,f=this;e=$('        <tr class="ppedit-panel-row">          <td style="width:10%">            <div class="deleteElementBtn menu-panel-icon"></div>          </td>          <td style="width:50%">          <input type="text" class="form-control" placeholder="Untitled box">          </td>          <td style="width:40%">            <div class="ppedit-slider"></div>          </td>        </tr>    \t      ').attr("ppedit-box-id",
        b);null==d||0===d?this._getRowContainer(a).find(".right-sidebar-menu2").prepend(e):e.insertBefore(this._getRowContainer(a).find('.ppedit-panel-row:nth-child("'+d+'")'));e.find(".ppedit-slider").slider({min:0,max:100,step:1,value:100}).on("slideStart",function(a){return f.prevOpacityVal=$(a.target).val()||100}).on("slide",function(a){var c;c=$(a.target).val();d=e.parents(".ppedit-row-container").index()-1;return $(a.target).trigger("onRowSliderValChanged",[d,b,parseInt(c)/100])}).on("slideStop",function(a){var c;
        c=$(a.target).val();d=e.parents(".ppedit-row-container").index()-1;f.prevOpacityVal!==c&&$(a.target).trigger("onRowSliderStopValChanged",[d,b,parseInt(f.prevOpacityVal)/100,parseInt(c)/100]);return f.prevOpacityVal=void 0});e.find(".deleteElementBtn").on("click",function(a){d=e.parents(".ppedit-row-container").index()-1;return $(a.target).trigger("onRowDeleteBtnClick",[d,b])});return e.find("input").blur(function(a){var c;c=$(a.target).val();if(c!==f.prevBoxNameVal[b])return d=e.parents(".ppedit-row-container").index()-
        1,$(a.target).trigger("boxNameChanged",[b,d,f.prevBoxNameVal[b]||"",c]),f.prevBoxNameVal[b]=c})};a.prototype.removeBoxRow=function(a){return this.getRowWithBoxId(a).remove()};a.prototype.getRowWithBoxId=function(a){return this.element.find("tr[ppedit-box-id="+a+"]").eq(0)};a.prototype.getRowAtIndex=function(a,b){return this._getRowContainer(a).find(".ppedit-panel-row").eq(b)};a.prototype.getRows=function(a){return this._getRowContainer(a).find(".ppedit-panel-row")};a.prototype.setBoxName=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              b){return this.getRowWithBoxId(a).find("input").val(b)};a.prototype._displayTab=function(a){var b=this;this.element.find(".ppedit-row-container").removeClass("ppedit-row-container-active").eq(a).addClass("ppedit-row-container-active");this.element.find(".ppedit-pageNumLabel").html("Page "+(a+1));return this.element.find(".ppedit-deletePage").off().click(function(){return b.element.trigger("deleteTabBtnClick",[a])})};a.prototype.removeTab=function(a){var b=this;this._getRowContainer(a).remove();this.element.find(".menu-tab-pages a").eq(a).remove();
        this.element.find(".menu-tab-pages a").each(function(a,c){return $(c).attr("href","#ppedit-page-"+a).html('          <div class="page-sidebar-tab menu-right-btn shadow-effect">            <span class="vertical-text">Page '+(a+1)+"</span>          </div>        ").click(function(){return b._displayTab(a)})});return this._displayTab(a)};a.prototype.getBoxName=function(a){return this.getRowWithBoxId(a).find("input").val()};a.prototype._getRowContainer=function(a){return this.element.find(".ppedit-row-container").eq(a)};
    a.prototype._getDisplayedRowContainer=function(){return this.element.find(".ppedit-row-container-active").eq(0)};a.prototype._getDisplayedTabIndex=function(){return this._getDisplayedRowContainer().index()-1};return a}(E);n=function(){function b(){this.items=void 0}b.prototype.pushItems=function(a){return this.items=$.extend(!0,{},a)};b.prototype.popItems=function(){var a;a=this.items;this.items=void 0;return null!=a?a:[]};return b}();K=function(b){function a(b){this.root=b;a.__super__.constructor.call(this,
    this.root);this.clipboard=new n;this.commandManager=new R;this.cmdFactory=new A;this.panel=this.controller=void 0}q(a,b);a.prototype.buildElement=function(){this.element=$('      <div class="container" tabindex="0">      </div>    ');this.controller=P.getController(this.element);this.superContainer=$('      <div class="superContainer">      </div>    ');this.areas=[];this.panel=new t(this.element);this.mainPanel=new x(this.element);this.panel.buildElement();this.mainPanel.buildElement();this.element.append(this.mainPanel.element);
    this.element.append(this.panel.element);return this.element.append(this.superContainer)};a.prototype.bindEvents=function(){var a,b,d,e,f=this;this.element.on("focus",function(a){return f.element.blur()}).on("requestUndo",function(a){return f.commandManager.undo()}).on("requestRedo",function(a){return f.commandManager.redo()}).on("requestDelete",function(a){var b,c,d;d=[];a=b=0;for(c=G.INIT_NUM_OF_PAGES-1;0<=c?b<=c:b>=c;a=0<=c?++b:--b)0!==f.areas[a].boxesContainer.getSelectedBoxes().length?d.push(f.commandManager.pushCommand(f.cmdFactory.createRemoveBoxesCommand(f,
    a,f.areas[0].boxesContainer.getSelectedBoxes()))):d.push(void 0);return d}).on("requestCopy",function(a){var b,c,d;d=[];a=b=0;for(c=G.INIT_NUM_OF_PAGES-1;0<=c?b<=c:b>=c;a=0<=c?++b:--b)if(0!==f.areas[a].boxesContainer.getSelectedBoxes().length){f.clipboard.pushItems({pageNum:a,boxes:f.areas[a].boxesContainer.getSelectedBoxes()});break}else d.push(void 0);return d}).on("requestPaste",function(a){a=f.clipboard.popItems();if(null!=a.boxes&&0<a.boxes.length)return f.commandManager.pushCommand(f.cmdFactory.createCopyBoxesCommand(f,
    a.pageNum,a.boxes))}).on("textColorChanged",function(a,b){var c;c=f.getSelectedBoxes();if(0!==c.length)return f.commandManager.pushCommand(f.cmdFactory.createChangeTextColorCommand(f,c,b))}).on("graphicContentChanged",function(a,b){var c,d,e;e=f.getPageNum(b.graphic.element);f.commandManager.pushCommand(f.cmdFactory.createCreateChangeBoxContentCommand(b.graphic,e,b.prevContent,b.newContent),!1);c=f.panel.getBoxName(b.graphic.element.attr("id"));d=b.graphic.element.clone();d.children().remove();d=
    d.html();if(0===c.length&&0<d.length)return f.commandManager.pushCommand(f.cmdFactory.createChangeBoxNameCommand(f,b.graphic.element.attr("id"),e,"",d))}).on("boxMoved",function(a,b,c,d){a=f.getPageNum(b.element);return f.commandManager.pushCommand(f.cmdFactory.createMoveBoxCommand(b,a,c,d),!1)}).on("moveElementUpBtnClick",function(a,b){var c;c=f.getSelectedBoxes();if(0<c.length)return f.commandManager.pushCommand(f.cmdFactory.createMoveUpCommand(f,b,c))}).on("moveElementDownBtnClick",function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       b){var c;c=f.getSelectedBoxes();if(0<c.length)return f.commandManager.pushCommand(f.cmdFactory.createMoveDownCommand(f,b,c))}).on("addTabBtnClick",function(a){if(f.areas.length<G.MAX_NUM_OF_PAGES)return f.commandManager.pushCommand(f.cmdFactory.createAddPageCommand(f))}).on("deleteTabBtnClick",function(a,b){if(f.areas.length>G.INIT_NUM_OF_PAGES)return f.commandManager.pushCommand(f.cmdFactory.createRemovePageCommand(f,b))}).on("panelClickAddBtnClick",function(a,b){return f.commandManager.pushCommand(f.cmdFactory.createCreateBoxesCommand(f,
    b))}).on("panelClickGridBtnClick",function(a){var b,c,d,e;d=f.areas;e=[];b=0;for(c=d.length;b<c;b++)a=d[b],e.push(a.grid.toggleGrid());return e}).on("onRowDeleteBtnClick",function(a,b,c){return f.commandManager.pushCommand(f.cmdFactory.createRemoveBoxesCommand(f,b,f.root.find("#"+c)))}).on("onRowSliderValChanged",function(a,b,c,d){return f.areas[b].boxesContainer.changeBoxOpacity(c,d)}).on("onRowSliderStopValChanged",function(a,b,c,d,e){return f.commandManager.pushCommand(f.cmdFactory.createChangeOpacityCommand(f,
    b,c,d,e))}).on("addBoxRequested",function(a,b){var c;c=f.getPageNum($(a.target));return f.commandManager.pushCommand(f.cmdFactory.createCreateBoxesCommand(f,c,[b]))}).on("fontTypeChanged",function(a,b){var c;c=f.getSelectedBoxes();if(0!==c.length)return f.commandManager.pushCommand(f.cmdFactory.createChangeFontTypeCommand(f,c,b))}).on("fontSizeChanged",function(a,b){var c;c=f.getSelectedBoxes();if(0!==c.length)return f.commandManager.pushCommand(f.cmdFactory.createChangeFontSizeCommand(f,c,b))}).on("letterSpaceChanged",
    function(a,b){var c;c=f.getSelectedBoxes();if(0!==c.length)return f.commandManager.pushCommand(f.cmdFactory.createChangeLetterSpaceCommand(f,c,b))}).on("lineHeightChanged",function(a,b){var c;c=f.getSelectedBoxes();if(0!==c.length)return f.commandManager.pushCommand(f.cmdFactory.createChangeLineHeightCommand(f,c,b))}).on("paddingChanged",function(a,b){var c;c=f.getSelectedBoxes();if(0!==c.length)return f.commandManager.pushCommand(f.cmdFactory.createChangePaddingCommand(f,c,b))}).on("fontWeightBtnEnableClick",
    function(a){a=f.getSelectedBoxes();if(0!==a.length)return f.commandManager.pushCommand(f.cmdFactory.createChangeFontWeightCommand(f,a,!0))}).on("fontWeightBtnDisableClick",function(a){a=f.getSelectedBoxes();if(0!==a.length)return f.commandManager.pushCommand(f.cmdFactory.createChangeFontWeightCommand(f,a,!1))}).on("fontUnderlinedBtnEnableClick",function(a){a=f.getSelectedBoxes();if(0!==a.length)return f.commandManager.pushCommand(f.cmdFactory.createChangeUnderlineFontCommand(f,a,!0))}).on("fontUnderlinedBtnDisableClick",
    function(a){a=f.getSelectedBoxes();if(0!==a.length)return f.commandManager.pushCommand(f.cmdFactory.createChangeUnderlineFontCommand(f,a,!1))}).on("fontItalicBtnEnableClick",function(a){a=f.getSelectedBoxes();if(0!==a.length)return f.commandManager.pushCommand(f.cmdFactory.createChangeItalicFontCommand(f,a,!0))}).on("fontItalicBtnDisableClick",function(a){a=f.getSelectedBoxes();if(0!==a.length)return f.commandManager.pushCommand(f.cmdFactory.createChangeItalicFontCommand(f,a,!1))}).on("rightAlignment",
    function(a){a=f.getSelectedBoxes();if(0!==a.length)return f.commandManager.pushCommand(f.cmdFactory.createRightAlignmentCommand(f,a))}).on("leftAlignment",function(a){a=f.getSelectedBoxes();if(0!==a.length)return f.commandManager.pushCommand(f.cmdFactory.createLeftAlignmentCommand(f,a))}).on("centerAlignment",function(a){a=f.getSelectedBoxes();if(0!==a.length)return f.commandManager.pushCommand(f.cmdFactory.createCenterAlignmentCommand(f,a))}).on("bulletPointBtnEnableClick",function(a){var b,c,d;
        a=f.getSelectedBoxes();b=f.getPageNum(a);b=f.areas[b].boxesContainer.getBoxesFromSelector(a.eq(0));d=[];for(c in b)a=b[c],d.push(a.addBulletPoint());return d}).on("orderedPointBtnEnableClick",function(a){var b,c,d;a=f.getSelectedBoxes();b=f.getPageNum(a);b=f.areas[b].boxesContainer.getBoxesFromSelector(a.eq(0));d=[];for(c in b)a=b[c],d.push(a.addOrderedPointList());return d}).on("boxNameChanged",function(a,b,c,d,e){return f.commandManager.pushCommand(f.cmdFactory.createChangeBoxNameCommand(f,b,c,
        d,e),!1)});this.panel.bindEvents();this.controller.bindEvents();this.mainPanel.bindEvents();e=[];b=0;for(d=G.INIT_NUM_OF_PAGES-1;0<=d?b<=d:b>=d;0<=d?++b:--b)a=this.cmdFactory.createAddPageCommand(this),e.push(a.execute());return e};a.prototype.getSelectedBoxes=function(){return this.element.find(".ppedit-box:focus, .ppedit-box-selected, .ppedit-box-focus")};a.prototype.getPageNum=function(a){return a.parents(".editContainer").index()};a.prototype.load=function(a){this.cmdFactory.createLoadBoxesCommand(this,
    a).execute();return this.commandManager.initNumOfPages=this.areas.length};a.prototype.getAllHunks=function(){return JSON.stringify(function(){var a,b,d;b=this.areas;d=[];a=0;for(b=b.length;a<b;a++)d.push(this.area.boxesContainer.getAllHunks());return d}.call(this))};return a}(E);N=function(b){function a(b){this.root=b;a.__super__.constructor.call(this,this.root)}q(a,b);a.LEFT_POSITION=void 0;a.TOP_POSITION=void 0;a.prototype.buildElement=function(){return this.element=$('          <div class="edit-menu FontPanel shadow-effect">            <div class="edit-menu-row1">               <select class="fontTypeBtn from-control edit-menu-row1-dd-ff">                 <option value="Times New Roman" selected>Times New Roman</option>                 <option value="Arial">Arial</option>                 <option value="Inconsolata">Inconsolata</option>                 <option value="Glyphicons Halflings">Glyphicons Halflings</option>               </select>                              <select class="fontSizeBtn from-control edit-menu-row1-dd-fs">                 <option value="6">6</option>                 <option value="8">8</option>                 <option value="10" selected>10</option>                 <option value="11">11</option>                 <option value="12">12</option>                 <option value="14">14</option>                 <option value="16">16</option>                 <option value="20">20</option>               </select>                              <div class="boldButton boldButtonDisable font-panel-icon-row"></div>               <div class="italicButton italicButtonDisable font-panel-icon-row"></div>               <div class="underlineButton underlineButtonDisable font-panel-icon-row"></div>             </div>             <div class="edit-menu-row2">                <div class="leftAlignBtn leftAlignButtonEnable font-panel-icon-row"></div>                <div class="centerAlignBtn centerAlignButtonDisable font-panel-icon-row"></div>                <div class="rightAlignBtn rightAlignButtonDisable font-panel-icon-row"></div>                <div class="colorPicker colorPickerButton font-panel-icon-row"></div>                <div class="orderedPointBtn orderedBulletPointButtonDisable font-panel-icon-row"></div>                <div class="bulletPointBtn bulletPointButtonDisable font-panel-icon-row"></div>                                <div>               <div class="font-panel-icon letter-space-img" ></div>               <select class="letter-space from-control edit-menu-row1-dd-fs">                 <option value="0" selected>0</option>                 <option value="1">1</option>                 <option value="2">2</option>                 <option value="3">3</option>                 <option value="4">4</option>                 <option value="5">5</option>                 </select>               </div>               <div>              <div class="font-panel-icon line-space-img" ></div>               <select class="line-height from-control edit-menu-row1-dd-fs">                 <option value="117" selected>1.0</option>                 <option value="175">1.5</option>                 <option value="233">2.0</option>                 <option value="291">2.5</option>                 <option value="349">3.0</option>                 <option value="407">3.5</option>                 <option value="465">4.0</option>               </select>               </div>               <div>                <div class="font-panel-icon text-padding-img" ></div>                   \x3c!-- <img class="icon-set line-height-img" src="images/icons/text-padding25.png" style="float:left;display:inline;"> --\x3e               <select class="padding from-control edit-menu-row1-dd-fs">                 <option value="0" selected>0</option>                 <option value="5">0.5</option>                 <option value="10">1.0</option>                 <option value="15">1.5</option>                 <option value="20">2.0</option>                 <option value="25">2.5</option>                 <option value="30">3.0</option>                 <option value="35">3.5</option>                 <option value="40">4.0</option>               </select>               </div>             </div>            </div>')};
    a.prototype.bindEvents=function(){var b=this;this.element.mousedown(function(a){a.stopPropagation();return b.selectFontPanel()}).mouseup(function(d){a.LEFT_POSITION=b.currentFontPanelPosition().left;a.TOP_POSITION=b.currentFontPanelPosition().right;return b.stopMoveFontPanel()}).on("containerMouseMove",function(a,d,e){if(a.target===b.element.get(0)&&(0>=b.element.position().left&&(b.stopMoveFontPanel(),b.element.css("left","1px")),b.element.position().left>=b.element.parent().width()-b.element.width()&&
        (b.stopMoveFontPanel(),b.element.css("left",b.element.parent().width()-b.element.width()-1+"px")),0>=b.element.position().top&&(b.stopMoveFontPanel(),b.element.css("top","1px")),b.element.position().top>=b.element.parent().height()-b.element.height()&&(b.stopMoveFontPanel(),b.element.css("top",b.element.parent().height()-b.element.height()-1+"px")),b.element.hasClass("ppedit-panel-selected")&&null!=e))return b.moveFontPanel(e.x,e.y)}).on("containerMouseLeave",function(){return b.stopMoveFontPanel()}).focusin(function(a){if(a.target!==
        b.element.get(0))return b.stopMoveFontPanel()});this.element.find("select.fontTypeBtn").change(function(a){a=$(a.target).find("option:selected").val();return b.root.trigger("fontTypeChanged",[a])});this.element.find("select.letter-space").change(function(a){a=$(a.target).find("option:selected").val()+"px";return b.root.trigger("letterSpaceChanged",[a])});this.element.find("select.fontSizeBtn").change(function(a){a=$(a.target).find("option:selected").val()+"pt";return b.root.trigger("fontSizeChanged",
        [a])});this.element.find("select.line-height").change(function(a){a=$(a.target).find("option:selected").val();"normal"!==a&&(a+="%");return b.root.trigger("lineHeightChanged",[a])});this.element.find("select.padding").change(function(a){a=$(a.target).find("option:selected").val()+"px";return b.root.trigger("paddingChanged",[a])});this.element.find(".colorPicker").click(function(a){return $(a.target).colpick({colorScheme:"dark",layout:"rgbhex",color:"ff8800",onSubmit:function(a,d,f,e){b.element.trigger("textColorChanged",
        [d]);return $(e).colpickHide()}})});this.element.find(".boldButton").click(function(a){if($(a.target).hasClass("boldButtonDisable"))return a=$(a.target).attr("class","boldButton boldButtonEnable font-panel-icon-row"),a.trigger(a.hasClass("boldButtonEnable font-panel-icon-row")?"fontWeightBtnEnableClick":"fontWeightBtnDisableClick");a=$(a.target).attr("class","boldButtonDisable font-panel-icon-row");return a.trigger(a.hasClass(".boldButtonDisable font-panel-icon")?"fontWeightBtnEnableClick":"fontWeightBtnDisableClick")});
        this.element.find(".italicButton").click(function(a){if($(a.target).hasClass("italicButtonDisable"))return a=$(a.target).attr("class","italicButtonEnable font-panel-icon-row"),a.trigger(a.hasClass("italicButtonEnable font-panel-icon-row")?"fontItalicBtnEnableClick":"fontItalicBtnDisableClick");a=$(a.target).attr("class","italicButtonDisable font-panel-icon-row");return a.trigger(a.hasClass(".italicButtonDisable font-panel-icon")?"fontItalicBtnEnableClick":"fontItalicBtnDisableClick")});this.element.find(".underlineButton").click(function(a){if($(a.target).hasClass("underlineButtonDisable"))return a=
            $(a.target).attr("class","underlineButtonEnable font-panel-icon-row"),a.trigger(a.hasClass("underlineButtonEnable font-panel-icon-row")?"fontUnderlinedBtnEnableClick":"fontUnderlinedBtnDisableClick");a=$(a.target).attr("class","underlineButtonDisable font-panel-icon-row");return a.trigger(a.hasClass(".underlineButtonDisable font-panel-icon-row")?"fontUnderlinedBtnEnableClick":"fontUnderlinedBtnDisableClick")});this.element.find(".centerAlignBtn").click(function(a){if($(a.target).hasClass("centerAlignButtonDisable"))return a=
            $(a.target).attr("class","centerAlignBtn centerAlignButtonEnable font-panel-icon-row"),b.element.find(".leftAlignBtn").attr("class","leftAlignBtn leftAlignButtonDisable font-panel-icon-row"),b.element.find(".rightAlignBtn").attr("class","rightAlignBtn rightAlignButtonDisable font-panel-icon-row"),a.trigger("centerAlignment");$(a.target).attr("class","centerAlignBtn centerAlignButtonDisable font-panel-icon-row");b.element.find(".leftAlignBtn").attr("class","leftAlignBtn leftAlignButtonEnable font-panel-icon-row");
            b.element.find(".rightAlignBtn").attr("class","rightAlignBtn rightAlignButtonDisable font-panel-icon-row");return $(a.target).trigger("leftAlignment")});this.element.find(".rightAlignBtn").click(function(a){if($(a.target).hasClass("rightAlignButtonDisable"))return a=$(a.target).attr("class","rightAlignBtn rightAlignButtonEnable font-panel-icon-row"),b.element.find(".leftAlignBtn").attr("class","leftAlignBtn leftAlignButtonDisable font-panel-icon-row"),b.element.find(".centerAlignBtn").attr("class",
            "centerAlignBtn centerAlignButtonDisable font-panel-icon-row"),a.trigger("rightAlignment");$(a.target).attr("class","rightAlignBtn rightAlignButtonDisable font-panel-icon-row");b.element.find(".leftAlignBtn").attr("class","leftAlignBtn leftAlignButtonEnable font-panel-icon-row");b.element.find(".centerAlignBtn").attr("class","centerAlignBtn centerAlignButtonDisable font-panel-icon-row");return $(a.target).trigger("leftAlignment")});this.element.find(".leftAlignBtn").click(function(a){if($(a.target).hasClass("leftAlignButtonDisable"))return a=
            $(a.target).attr("class","leftAlignBtn leftAlignButtonEnable font-panel-icon-row"),b.element.find(".rightAlignBtn").attr("class","rightAlignBtn rightAlignButtonDisable font-panel-icon-row"),b.element.find(".centerAlignBtn").attr("class","centerAlignBtn centerAlignButtonDisable font-panel-icon-row"),a.trigger("leftAlignment")});this.element.find(".rightAlignBtn").click(function(a){return $(a.target).trigger("rightAlignment")});this.element.find(".leftAlignBtn").click(function(a){return $(a.target).trigger("leftAlignment")});
        this.element.find(".bulletPointBtn").click(function(a){return $(a.target).trigger("bulletPointBtnEnableClick")});this.element.find(".orderedPointBtn").click(function(a){return $(a.target).trigger("orderedPointBtnEnableClick")});this.element.find(".gridElementBtn").click(function(){return $(event.target).trigger("panelClickGridBtnClick")});return this.element.find(".snapBtn").click(function(){return $(event.target).hasClass("snapBtn-selected")?$(event.target).removeClass("snapBtn-selected"):$(event.target).addClass("snapBtn-selected")})};
    a.prototype.changeColor=function(a,b,d,e){$(e).css("background-color","#"+b);return $(e).colpickHide()};a.prototype.setSettingsFromStyle=function(a){this.element.find(".fontTypeBtn").children().removeAttr("selected").filter("option[value="+a["font-family"]+"]").attr("selected","selected");this.element.find(".fontSizeBtn").children().removeAttr("selected").filter('option[value="'+parseInt(a["font-size"])+'"]').attr("selected","selected");this.element.find(".letter-space").children().removeAttr("selected").filter('option[value="'+
        parseInt(a["letter-spacing"])+'"]').attr("selected","selected");this.element.find(".line-height").children().removeAttr("selected").filter('option[value="'+parseInt(a["line-height"])+'"]').attr("selected","selected");this.element.find(".padding").children().removeAttr("selected").filter('option[value="'+parseInt(a.padding)+'"]').attr("selected","selected");this._switchBtn(".wbtn","bold"===a["font-weight"]);this._switchBtn(".ubtn",-1!==a["text-decoration"].indexOf("underline"));this._switchBtn(".ibtn",
        "italic"===a["font-style"]);this.element.find(".centerAlignBtn").removeClass("active");this.element.find(".leftAlignBtn").removeClass("active");this.element.find(".rightAlignBtn").removeClass("active");if("left"===a["text-align"])return this.element.find(".leftAlignBtn").addClass("active");if("center"===a["text-align"])return this.element.find(".centerAlignBtn").addClass("active");if("right"===a["text-align"])return this.element.find(".rightAlignBtn").addClass("active")};a.prototype._switchBtn=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    b){return b?this.element.find(a).addClass("ppedit-btn-enabled active"):this.element.find(a).removeClass("ppedit-btn-enabled active")};a.prototype.selectFontPanel=function(){return this.element.addClass("ppedit-panel-selected")};a.prototype.moveFontPanel=function(a,b){var d;d=this.currentFontPanelPosition();return this.setFontPanelPosition(a+d.left,b+d.top)};a.prototype.stopMoveFontPanel=function(){return this.element.removeClass("ppedit-panel-selected")};a.prototype.currentFontPanelPosition=function(){return this.element.position()};
    a.prototype.setFontPanelPosition=function(a,b){this.element.css("left",a+"px");return this.element.css("top",b+"px")};return a}(E);x=function(b){function a(b){this.root=b;a.__super__.constructor.call(this,this.root)}q(a,b);a.prototype.buildElement=function(){return this.element=$('            <div class="left-sidebar">              <div class="main-panel-icon undoImg"></div>              <div class="main-panel-icon redoImg"></div>              <div class="main-panel-icon gridImg"></div>              <div class="main-panel-icon snapImg"></div>          </div>')};
    a.prototype.bindEvents=function(){var a=this;this.element.find(".snapImg").click(function(){return $(event.target).hasClass("snapBtn-selected")?$(event.target).removeClass("snapBtn-selected"):$(event.target).addClass("snapBtn-selected")});this.element.find(".gridImg").click(function(){return a.root.trigger("panelClickGridBtnClick")});this.element.find(".undoImg").click(function(){return a.root.trigger("requestUndo")});return this.element.find(".redoImg").click(function(){return a.root.trigger("requestRedo")})};
    return a}(E);(function(b,a,c){var d,e,g,f;d=void 0;f={"default":"cool!"};g=null;e={init:function(a){d=b(this);b.extend(f,a||{});g=new K(d);g.buildElement();d.append(g.element);g.bindEvents();return d},doSomething:function(a){return d},destroy:function(){return d},save:function(){return g.commandManager.getUndoJSON()},allHunks:function(){return g.area.boxesContainer.getAllHunks()},clearHistory:function(){g.commandManager.clearHistory();return d},load:function(a){g.load(a.hunks);return d}};return b.fn.ppedit=
    function(a){return e[a]?e[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==typeof a&&a?b.error("Method "+a+" does not exist on jquery.ppedit"):e.init.apply(this,arguments)}})(jQuery,window,document)}).call(this);